<form [formGroup]="form" (ngSubmit)="submit()" class="w-full max-w-3xl mx-auto p-6 bg-white rounded-xl shadow-md">
  <h2 class="text-2xl font-bold mb-6">Registrar Entrega</h2>

  <div class="grid grid-cols-1 md:grid-cols-2 gap-6">

    <!-- Orden -->
    <div>
      <label class="block mb-2 text-lg font-semibold">Orden</label>
      <select 
        formControlName="orderId" 
        class="w-full text-base py-2.5 px-4 rounded-lg border border-gray-300"
        [ngClass]="{'border-red-500': form.get('orderId')?.invalid && form.get('orderId')?.touched}"
      >
        <option *ngFor="let order of orders" [value]="order.id">
          Orden #{{ order.id }} â€” {{ order.total | currency:'COP' }}
        </option>
      </select>
      <p class="text-red-500 text-sm mt-1" *ngIf="form.get('orderId')?.invalid && form.get('orderId')?.touched">
        Por favor selecciona una orden.
      </p>
    </div>

    <!-- Fecha -->
    <div>
      <label class="block mb-2 text-lg font-semibold">Fecha</label>
      <input
        type="date"
        formControlName="date"
        class="w-full text-base py-2.5 px-4 rounded-lg border border-gray-300"
        [ngClass]="{'border-red-500': form.get('date')?.invalid && form.get('date')?.touched}"
      />
      <p class="text-red-500 text-sm mt-1" *ngIf="form.get('date')?.invalid && form.get('date')?.touched">
        Por favor selecciona una fecha.
      </p>
    </div>

    <!-- Estado -->
    <div>
      <label class="block mb-2 text-lg font-semibold">Estado</label>
      <select 
        formControlName="status" 
        class="w-full text-base py-2.5 px-4 rounded-lg border border-gray-300"
        [ngClass]="{'border-red-500': form.get('status')?.invalid && form.get('status')?.touched}"
      >
        <option value="PENDING">Pendiente</option>
        <option value="READY">Listo para entregar</option>
        <option value="DELIVERED">Entregado</option>
      </select>
      <p class="text-red-500 text-sm mt-1" *ngIf="form.get('status')?.invalid && form.get('status')?.touched">
        Por favor selecciona un estado.
      </p>
    </div>

    <!-- Observaciones -->
    <div class="md:col-span-2">
      <label class="block mb-2 text-lg font-semibold">Observaciones</label>
      <textarea
        formControlName="observations"
        rows="4"
        class="w-full text-base py-2.5 px-4 rounded-lg border border-gray-300 resize-none"
        placeholder="Notas adicionales sobre la entrega..."
      ></textarea>
    </div>
  </div>

  <!-- Botones -->
  <div class="flex justify-center mt-8">
    <div class="bg-gray-100 rounded-lg p-4 flex gap-4 items-center">
      <button
        pButton
        type="submit"
        class="p-button p-component bg-green-600 hover:bg-green-700 text-white text-base px-5 py-2.5 rounded-lg"
        label="Guardar"
        icon="pi pi-save"
        [disabled]="form.invalid"
      ></button>

      <button
        pButton
        type="button"
        class="p-button p-component bg-gray-400 hover:bg-gray-500 text-black text-base px-5 py-2.5 rounded-lg"
        label="Cancelar"
        icon="pi pi-times"
        (click)="cancelar()"
      ></button>
    </div>
  </div>
</form>
